{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/element-closest/index.mjs","webpack:///./node_modules/ie-array-find-polyfill/index.js","webpack:///./src/app2.ts","webpack:///./utils/gdprLock.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","ElementPrototype","Element","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","selector","elements","this","document","ownerDocument","querySelectorAll","index","Boolean","closest","element","nodeType","parentNode","Array","find","predicate","TypeError","obj","len","length","thisArg","arguments","iValue","vendorListMemo","fdmgPurposes","id","vendorName","purposes","consentVendor","console","log","__tcfapi","activateVendor","result","location","reload","querySelector","e","vendorList","values","vendors","forEach","vendor","fdmgPurpose","toLowerCase","data","success","showLock","vendorId","purposeIds","footerLink","addEventListener","preventDefault","consentButtons","slice","button","getAttribute","foundVendor","JSON","stringify","vendorIds","htmlToElement","html","span","createElement","innerHTML","trim","runJs","scriptElement","head","getElementsByTagName","src","script","appendChild","eval","loadAllScripts","templateElement","scripts","cleanUp","classList","contains","add","unblocked","remove","activateTemplate","template","nodeName","parentElement","insertBefore","templates","style","visibility","height"],"mappings":"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","file":"app2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","function polyfill(window) {\n  var ElementPrototype = window.Element.prototype;\n\n  if (typeof ElementPrototype.matches !== 'function') {\n    ElementPrototype.matches = ElementPrototype.msMatchesSelector || ElementPrototype.mozMatchesSelector || ElementPrototype.webkitMatchesSelector || function matches(selector) {\n      var element = this;\n      var elements = (element.document || element.ownerDocument).querySelectorAll(selector);\n      var index = 0;\n\n      while (elements[index] && elements[index] !== element) {\n        ++index;\n      }\n\n      return Boolean(elements[index]);\n    };\n  }\n\n  if (typeof ElementPrototype.closest !== 'function') {\n    ElementPrototype.closest = function closest(selector) {\n      var element = this;\n\n      while (element && element.nodeType === 1) {\n        if (element.matches(selector)) {\n          return element;\n        }\n\n        element = element.parentNode;\n      }\n\n      return null;\n    };\n  }\n}\n\nexport default polyfill;\n//# sourceMappingURL=index.mjs.map\n","'use strict';\nif (!Array.prototype.find) {\n    Object.defineProperty(Array.prototype, 'find', {\n        value: function (predicate) {\n\n            if (this == null) {\n                throw new TypeError('this is null or not defined');\n            }\n\n            var obj = Object(this);\n            var len = obj.length >>> 0;\n\n            if (typeof predicate !== 'function') {\n                throw new TypeError('predicate must be a function');\n            }\n\n            var thisArg = arguments[1];\n\n            var index = 0;\n\n            while (index < len) {\n                var iValue = obj[index];\n                if (predicate.call(thisArg, iValue, index, obj)) {\n                    return iValue;\n                }\n                index++;\n            }\n\n            return undefined;\n        }\n    });\n}","import \"element-closest\";\r\nimport \"ie-array-find-polyfill\";\r\nimport { activateVendor, showLock } from \"../utils/gdprLock\";\r\n\r\ndeclare var window: any;\r\nif (!(\"__tfcapi\" in window)) {\r\n    window[\"__tfcapi\"] = () => {};\r\n}\r\n\r\nlet vendorListMemo: any;\r\n\r\nconst fdmgPurposes = [\r\n    {\r\n        id: null,\r\n        vendorName: \"youtube\",\r\n        purposes: [],\r\n    },\r\n    {\r\n        id: null,\r\n        vendorName: \"twitter\",\r\n        purposes: [],\r\n    },\r\n    {\r\n        id: null,\r\n        vendorName: \"instagram\",\r\n        purposes: [],\r\n    },\r\n    {\r\n        id: null,\r\n        vendorName: \"soundcloud\",\r\n        purposes: [],\r\n    },\r\n    {\r\n        id: null,\r\n        vendorName: \"vimeo\",\r\n        purposes: [],\r\n    },\r\n    {\r\n        id: null,\r\n        vendorName: \"inline-html\",\r\n        purposes: [],\r\n    },\r\n];\r\n\r\nfunction consentVendor(vendorName: string = \"\") {\r\n    console.log(vendorName);\r\n    if ((vendorName && vendorName !== \"inline-html\") || !window.__tcfapi) {\r\n        activateVendor(vendorName);\r\n    } else {\r\n        window.__tcfapi(\"accept\", 2, (result: any) => {\r\n            window.location.reload();\r\n        });\r\n    }\r\n}\r\n\r\nif (window.__tcfapi && !document.querySelector(\"html.cookiewall\")) {\r\n    /**\r\n     * consentManagerClosed.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (result: any) => {\r\n            console.log(result);\r\n            window.location.reload();\r\n        },\r\n        \"consentManagerClosed\"\r\n    );\r\n\r\n    /**\r\n     * consentNoticeClosed.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (result: any) => {\r\n            console.log(result);\r\n            window.location.reload();\r\n        },\r\n        \"consentNoticeClosed\"\r\n    );\r\n\r\n    /**\r\n     * saveAndExitButtonClicked.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (result: any) => {\r\n            console.log(result);\r\n            window.location.reload();\r\n        },\r\n        \"saveAndExitButtonClicked\"\r\n    );\r\n\r\n    /**\r\n     * denyAllButtonClicked.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (result: any) => {\r\n            console.log(result);\r\n            window.location.reload();\r\n        },\r\n        \"denyAllButtonClicked\"\r\n    );\r\n\r\n    /**\r\n     * acceptAllButtonClicked.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (result: any) => {\r\n            console.log(result);\r\n            window.location.reload();\r\n        },\r\n        \"acceptAllButtonClicked\"\r\n    );\r\n\r\n    /**\r\n     * CMP Ready.\r\n     * Idiotic API design 101. Whoever thought to put the event name at the end of the argument list\r\n     * should be fired ASAP.\r\n     */\r\n    window.__tcfapi(\r\n        \"addEventListener\",\r\n        2,\r\n        (e: any) => {\r\n            console.log(e);\r\n\r\n            /**\r\n             * Inline-HTML consent equals consent for all.\r\n             */\r\n            // window.__tcfapi(\"getTCData\", 2, (tcData: any, success: any) => {\r\n            //     console.log(tcData, success);\r\n            //     const allConsent = (Object as any)\r\n            //         .values(tcData.purpose.consents)\r\n            //         .reduce((prev: boolean, cur: boolean) => {\r\n            //             return prev && cur;\r\n            //         }, true);\r\n            //     console.log(\"All consent\", allConsent);\r\n            //     if (allConsent) {\r\n            //         // Activate inline-html.\r\n            //         activateVendor(\"inline-html\");\r\n            //     } else {\r\n            //         showLock(\"inline-html\");\r\n            //     }\r\n            // });\r\n            /**\r\n             * Always show inline-html as we prune our inline-html content.\r\n             */\r\n            activateVendor(\"inline-html\");\r\n\r\n            /**\r\n             * Retrieve all vendors.\r\n             * Idiotic API design 101. 2016 is calling and wants you to call back...\r\n             * Get it? Callback? Because callback function... ahh never mind.\r\n             * This API is introduced in 2020. It should have been implemented with\r\n             * Promises so we can use async/await instead of this callback-Hell.\r\n             */\r\n            window.__tcfapi(\"getVendorList\", 2, (vendorList: any) => {\r\n                console.log(vendorList);\r\n                vendorListMemo = (Object as any).values(vendorList.vendors);\r\n                vendorListMemo.forEach((vendor: any) => {\r\n                    fdmgPurposes.forEach((fdmgPurpose) => {\r\n                        if (\r\n                            fdmgPurpose.vendorName.toLowerCase() ===\r\n                            vendor.name.toLowerCase()\r\n                        ) {\r\n                            fdmgPurpose.id = vendor.id;\r\n                            fdmgPurpose.purposes = vendor.purposes;\r\n                            window.__tcfapi(\r\n                                \"checkConsent\",\r\n                                2,\r\n                                (data: any, success: any) => {\r\n                                    console.log(vendor.id, vendor.name, data);\r\n                                    if (data) {\r\n                                        activateVendor(fdmgPurpose.vendorName);\r\n                                    } else {\r\n                                        showLock(fdmgPurpose.vendorName);\r\n                                    }\r\n                                },\r\n                                {\r\n                                    data: [\r\n                                        {\r\n                                            vendorId: vendor.id,\r\n                                            purposeIds: vendor.purposes,\r\n                                        },\r\n                                    ],\r\n                                }\r\n                            );\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        \"cmpReady\"\r\n    );\r\n\r\n    const footerLink = document.querySelector(\r\n        '.menu-link[href=\"/cookiebeleid\"]'\r\n    );\r\n    if (footerLink) {\r\n        footerLink.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            window.__tcfapi(\"showConsentManager\", 2, (result: any) => {\r\n                console.log(result);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nconst consentButtons = document.querySelectorAll(\".blocked-content-container\");\r\nif (consentButtons.length) {\r\n    [].slice.call(consentButtons).forEach((button: HTMLElement) => {\r\n        button.addEventListener(\"click\", () => {\r\n            const vendorName = button.getAttribute(\"data-vendor-name\") || \"\";\r\n            const foundVendor = vendorListMemo\r\n                ? vendorListMemo.find(\r\n                      (vendor: any) => vendor.name.toLowerCase() === vendorName\r\n                  )\r\n                : true;\r\n            if (!foundVendor) {\r\n                consentVendor(\"\");\r\n            } else {\r\n                const template = document.querySelector(\r\n                    `textarea[data-vendor-name=\"${vendorName}\"],template[data-vendor-name=\"${vendorName}\"],script[data-vendor-name=\"${vendorName}\"]`\r\n                ) as HTMLElement;\r\n                if (template) {\r\n                    // Accept doesn't work for determined vendors. Bug?\r\n                    window.__tcfapi(\r\n                        \"accept\",\r\n                        2,\r\n                        (result: any) => {\r\n                            console.log(\"accept\", result);\r\n                            console.log(\r\n                                `vendorId: ${\r\n                                    foundVendor.id\r\n                                }, purposeIds: ${JSON.stringify(\r\n                                    foundVendor.purposes\r\n                                )}`\r\n                            );\r\n                        },\r\n                        {\r\n                            vendorIds: [foundVendor.id],\r\n                            purposeIds: foundVendor.purposes,\r\n                        }\r\n                    );\r\n                    consentVendor(vendorName);\r\n                } else {\r\n                    consentVendor(vendorName);\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\n","export function htmlToElement(html: string) {\r\n    const span = document.createElement(\"span\");\r\n    span.innerHTML = html.trim();\r\n    return span;\r\n}\r\n\r\nexport function runJs(scriptElement: HTMLScriptElement) {\r\n    const head = document.getElementsByTagName(\"head\")[0];\r\n    if (scriptElement.src) {\r\n        const script = document.createElement(\"script\");\r\n        console.log(\"Load external script\", scriptElement);\r\n        script.src = scriptElement.src;\r\n        head.appendChild(script);\r\n    } else {\r\n        try {\r\n            console.log(\"Eval inline script\", scriptElement);\r\n            eval(scriptElement.innerHTML);\r\n        } catch (e) {\r\n            console.log(`Can't eval inline script`, scriptElement);\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadAllScripts(templateElement: HTMLElement) {\r\n    const scripts = templateElement.querySelectorAll(\"script\");\r\n    if (scripts.length) {\r\n        console.log(\"Activate scripts\", scripts);\r\n        [].slice.call(scripts).forEach((script) => {\r\n            runJs(script);\r\n        });\r\n    }\r\n}\r\n\r\nexport function cleanUp(elements: HTMLElement[]) {\r\n    elements.forEach((element) => {\r\n        if (element.classList.contains(\"blocked-content-container\")) {\r\n            element.classList.add(\"hidden-cmp-content\");\r\n            element.addEventListener(\"animationend\", () => {\r\n                [].slice\r\n                    .call(\r\n                        document.querySelectorAll(\r\n                            \".unblocked.hidden-cmp-content\"\r\n                        )\r\n                    )\r\n                    .forEach((unblocked: HTMLElement) => {\r\n                        unblocked.classList.remove(\"hidden-cmp-content\");\r\n                    });\r\n                element.remove();\r\n            });\r\n        } else {\r\n            element.remove();\r\n        }\r\n    });\r\n}\r\n\r\nexport function activateTemplate(button: HTMLElement, template: HTMLElement) {\r\n    if (button) {\r\n        const templateElement = htmlToElement(\r\n            template.nodeName === \"TEXTAREA\"\r\n                ? (template as HTMLTextAreaElement).value\r\n                : template.innerHTML\r\n        ) as HTMLElement;\r\n        templateElement.classList.add(\"unblocked\");\r\n        templateElement.classList.add(\"hidden-cmp-content\");\r\n        templateElement.classList.add(\"inline-content\");\r\n        templateElement.classList.add(\"block\");\r\n        if (templateElement) {\r\n            (button.parentElement as HTMLElement).insertBefore(\r\n                templateElement,\r\n                button\r\n            );\r\n            loadAllScripts(templateElement);\r\n            cleanUp([button, template]);\r\n        }\r\n    }\r\n}\r\n\r\nexport function activateVendor(vendorName: string) {\r\n    console.log(\"activate vendor\", vendorName);\r\n    const templates: HTMLElement[] = [].slice.call(\r\n        document.querySelectorAll(\r\n            `textarea[data-vendor-name=\"${vendorName}\"],template[data-vendor-name=\"${vendorName}\"],script[data-vendor-name=\"${vendorName}\"]`\r\n        )\r\n    );\r\n    if (templates.length) {\r\n        templates.forEach((template) => {\r\n            activateTemplate(\r\n                template.closest(\r\n                    `.blocked-content-container[data-vendor-name=\"${vendorName}\"]`\r\n                ) as HTMLElement,\r\n                template\r\n            );\r\n        });\r\n    }\r\n}\r\n\r\nexport function showLock(vendorName: string) {\r\n    console.log(\"lock vendor\", vendorName);\r\n    const templates: HTMLElement[] = [].slice.call(\r\n        document.querySelectorAll(\r\n            `.blocked-content-container[data-vendor-name=\"${vendorName}\"]`\r\n        )\r\n    );\r\n    if (templates.length) {\r\n        templates.forEach((template) => {\r\n            template.style.visibility = \"visible\";\r\n            template.style.height = \"auto\";\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":""}